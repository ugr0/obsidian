SQLを支える理論として、1つが集合論。もう一つが、現代の標準的な論理学の述語論理。
EXISTSは「[[量化(quantification)]]」という述語論理の強力な機能を実現するために、SQLに取り入れられた。

# 要点
- SQLにおける述語とは、真理値を返す関数のこと
- EXISTSだけが、他の述語と違って(行の)集合を引数に取る
- EXISTSは高階関数の一種と見做せる
- SQLには[[全称量化子]]に相当する演算子がないので、NOT EXISTSで代用する

# 理論
- EXISTSは`二階の述語`と呼ばれる。(=やBETWEENなど一行を入力とする述語は一階の述語、集合の集合を入力にとる述語は三階の述語、集合の集合の集合を入力にとる述語は四階の述語)

- リレーショナルデータベースにおける存在の階層
| 階   |                   |
| ---- | ----------------- |
| 二階 | テーブルの集合    |
| 一階 | テーブル（行集合) |
| 0階  | 行                  |

- 全称量化と存在量化
[[全称量化子]]...全てのxが条件Pを満たす
[[存在量化子]]...条件Pを満たすxが(少なくとも１つ)存在する

SQLには、全称量化子に対応する述語を導入しなかった。
よって、存在量子化を全称量子化で表現する必要がある。

# 実践
## 全称量子化
### 肯定・二重否定の変換になれる
TODO

### 集合 vs 述語
- 全称量子化のメリット
	- パフォーマンスが良い。一行でも条件を満たさない行が存在したら、検索が打ち切られる
	- 結果に含まれる情報量が多い。HAVING句は集約されてしまう。

## 列に対する量化
TODO

# 参考
- [[📚達人に学ぶSQL徹底指南書第２版]]